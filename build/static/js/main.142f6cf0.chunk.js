(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){},118:function(e,t,a){e.exports=a(321)},123:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){},256:function(e,t,a){},258:function(e,t,a){},260:function(e,t,a){},262:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),i=a(21),l=a(22),s=a(24),u=a(23),m=a(25),d=(a(123),a(44)),h=a.n(d),v=a(117),f=a(47),p=a.n(f),g="2bfc2a645701761d2e5ce56e2b5eb82d",b="https://api.themoviedb.org/3/",E=function(e){return p.a.get("".concat(b,"movie/").concat(e,"?api_key=").concat(g,"&language=").concat("en-US")).then(function(e){return e.data}).catch(function(e){return new Error(e)})},y=function(e){return"https://image.tmdb.org/t/p/w500".concat(e)},w=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:e,payload:t,meta:a}}},O=(a(146),a(148),a(19)),S=a.n(O),j=function(e){var t=e.children,a=e.closeModal;return r.a.createElement("div",{className:"modalContainer"},r.a.createElement("div",{className:"modal"},t,r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:a},"Close modal")))};j.defaultProps={visible:!1};var M=j,N=a(33),_=a.n(N),k=a(16),C=w("add movie to watch list"),F=a(46),D=a.n(F),I=a(104),L=a.n(I),B={addBtn:{position:"absolute",top:"420px",left:"230px"}},x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).hideSpinnerImg=function(){a.setState({isShowModal:!1})},a.hideModal=function(){a.setState({loadingImg:!1})},a.getFullInfo=function(e){return a.setState({loading:!0}),E(e).then(function(e){return a.setState({isShowModal:!0,fullMovieData:Object(v.a)({},e),loading:!1})})},a.state={isShowModal:!1,fullMovieData:{},loading:!1,loadingImg:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=t.addMoviewToStore;return a&&a.poster_path&&r.a.createElement("li",{className:"card"},r.a.createElement(D.a,null,r.a.createElement("div",{className:"img_container"},this.state.loadingImg&&r.a.createElement("div",{className:"loader-img"},r.a.createElement(_.a,{type:"Oval",color:"#00BFFF",height:"100",width:"100"})),r.a.createElement("img",{src:y(a.poster_path),alt:a.title,className:"img",onLoad:this.hideModal})),r.a.createElement("div",{className:"card_info"},r.a.createElement("h3",{className:"title"},a.title),r.a.createElement("p",null,"Rating ".concat(a.popularity)),r.a.createElement("p",{className:"description"},a.overview),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){return e.getFullInfo(e.props.movie.id)}},"Show more details"),r.a.createElement(S.a,{variant:"fab",color:"secondary","aria-label":"Add",onClick:function(){return n(a)},style:B.addBtn},r.a.createElement(L.a,null))),this.state.isShowModal&&Object.keys(this.state.fullMovieData)?r.a.createElement(M,{closeModal:this.hideModal},r.a.createElement("h2",null,this.state.fullMovieData.title),r.a.createElement("p",null,this.state.fullMovieData.overview),r.a.createElement("p",null,"Budget: ".concat(this.state.fullMovieData.budget,"$"))):this.state.loading&&r.a.createElement("div",{className:"loader-modal"},r.a.createElement(_.a,{type:"Oval",color:"#00BFFF",height:"100",width:"100"}))))}}]),t}(r.a.Component),P=Object(k.b)(null,function(e){return{addMoviewToStore:function(t){return e(C(t))}}})(x),T=a(105),V=a.n(T),A=a(106),J=a.n(A),U=a(107),R=Object(U.a)([function(e){return e.moviesList.items},function(e){return e.moviesList.isLoading}],function(e,t){return{movies:e,loading:t}}),W=J.a.bind(V.a),$=function(e){var t=e.moviesData,a=W({list:!!t.movies.length});return t.loading?r.a.createElement("div",{className:"loader-position"},r.a.createElement(_.a,{type:"Oval",color:"#00BFFF",height:"100",width:"100"})):t&&t.movies&&!!t.movies.length&&r.a.createElement("ul",{className:a},t.movies.map(function(e){return r.a.createElement(P,{movie:e,key:h()()})}))};$.defaultProps={moviesData:{}};var q=Object(k.b)(function(e){return{moviesData:R(e)}},null)($),z=(a(256),w("remove movie from watch list")),G=a(108),H=a.n(G),K={card:{display:"flex"},btn:{position:"absolute",top:"85px",left:"255px"}},Q=function(e){var t=e.movie,a=e.removeMoviewFromStore;return t&&r.a.createElement("li",{className:"watch-list__card"},r.a.createElement(D.a,{style:K.card},r.a.createElement("img",{src:y(t.poster_path),alt:t.title,className:"watch-list__img"}),r.a.createElement("div",null,r.a.createElement("h3",null,t.title),r.a.createElement("p",null,"Rating ".concat(t.popularity)),r.a.createElement(S.a,{variant:"fab",onClick:function(){return a(t.id)},style:K.btn},r.a.createElement(H.a,null)))))};Q.defaultProps={movie:{}};var X=Object(k.b)(null,function(e){return{removeMoviewFromStore:function(t){return e(z(t))}}})(Q),Y=(a(258),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("watchlist"));e&&e.length&&this.props.addMoviewToStore(e)}},{key:"render",value:function(){var e=this.props.list;return e&&r.a.createElement("div",{className:"watchlist-container"},r.a.createElement("h2",{className:"watch_list"},"Watchlist"),r.a.createElement("ul",null,!!e.length&&e.map(function(e){return r.a.createElement(X,{movie:e,key:h()()})})))}}]),t}(r.a.Component));Y.defaultProps={list:[]};var Z=Object(k.b)(function(e){return{list:function(e){return e.watchList}(e)}},function(e){return{addMoviewToStore:function(t){return e(C(t))}}})(Y),ee=(a(260),w("dispatch movies to store by category")),te=w("search movies"),ae=w("loading end"),ne=w("loading start"),re=a(114),oe=a.n(re),ce=a(109),ie=a.n(ce),le=a(110),se=a.n(le),ue=a(111),me=a.n(ue),de=a(43),he=a.n(de),ve=a(112),fe=a.n(ve),pe=a(49),ge=a.n(pe),be=a(113),Ee=a.n(be),ye=(a(262),{searchInput:{color:"white"},select:{color:"white",width:"300px"},btn:{marginLeft:"10px"},selectPlaceholder:{color:"white"}}),we=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedOption:"",searchValue:""},a.handleSelectChange=function(e){a.setState({selectedOption:e.target.value}),a.props.getMoviesList(e.target.value)},a.handleSearchValue=function(e){a.setState({searchValue:e.target.value})},a.getSearchMovies=function(e){if(e.preventDefault(),""===a.state.searchValue)return!1;a.props.getMovieBySearch(a.state.searchValue)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(ie.a,{position:"static",color:"primary"},r.a.createElement(se.a,null,r.a.createElement(me.a,{variant:"subtitle2",color:"inherit"},r.a.createElement("form",{onSubmit:this.getSearchMovies,action:"#",className:"form"},r.a.createElement("div",{className:"select-container"},r.a.createElement(fe.a,{value:this.state.selectedOption,onChange:this.handleSelectChange,className:"select",style:ye.select},r.a.createElement(ge.a,{value:"top_rated",name:"Top rated"},"Top rated"),r.a.createElement(ge.a,{value:"upcoming",name:"Upcoming"},"Upcoming"),r.a.createElement(ge.a,{value:"popular",name:"Popular"},"Popular")),r.a.createElement(Ee.a,{style:ye.selectPlaceholder},"Search by category")),r.a.createElement("div",{className:"search-input__container"},r.a.createElement(he.a,{placeholder:"Search by title",value:this.searchValue,onChange:this.handleSearchValue,style:ye.searchInput}),r.a.createElement(S.a,{variant:"contained",color:"secondary",type:"submit",style:ye.btn},"Search",r.a.createElement(oe.a,{className:"search_btn__icon"})))))))}}]),t}(r.a.Component),Oe={getMoviesList:function(e){return function(t){t(ne(!0)),function(e){return p.a.get("".concat(b,"movie/").concat(e,"?api_key=").concat(g,"&language=").concat("en-US","&page=").concat("1")).then(function(e){return e.data.results}).catch(function(e){return new Error(e)})}(e).then(function(e){t(ae(!1)),t(ee(e))})}},getMovieBySearch:function(e){return function(t){t(ne(!0)),function(e){return p.a.get("".concat(b,"search/movie?api_key=").concat(g,"&language=").concat("en-US","&page=").concat("1","&include_adult=false&query=").concat(e)).then(function(e){return e.data.results}).catch(function(e){return new Error(e)})}(e).then(function(e){t(ae(!1)),t(te(e))})}}},Se=Object(k.b)(null,Oe)(we),je=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Z,null),r.a.createElement("div",{className:"form-container"},r.a.createElement(Se,null),r.a.createElement(q,null)))},Me=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(je,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=a(18),_e=a(28),ke=Object(Ne.combineReducers)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"dispatch movies to store by category":case"search movies":return n;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"loading start":case"loading end":return n;default:return e}}}),Ce=Object(Ne.combineReducers)({watchList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"add movie to watch list":return Array.isArray(n)?Object(_e.a)(e).concat(Object(_e.a)(n)):(e.some(function(e){return e.id===n.id})||localStorage.setItem("watchlist",JSON.stringify(Object(_e.a)(e).concat([n]))),e.some(function(e){return e.id===n.id})?e:Object(_e.a)(e).concat([n]));case"remove movie from watch list":var r=e.filter(function(e){return e.id!==n});return localStorage.setItem("watchlist",JSON.stringify(Object(_e.a)(r))),r;default:return e}},moviesList:ke}),Fe=a(115),De=function(e){return function(e){return function(t){if(!t.meta||!t.meta.shouldConfirm)return e(t);window.confirm("Are you sure?")&&e(t)}}},Ie=a(116),Le=Object(Fe.composeWithDevTools)(Object(Ne.applyMiddleware)(De,Ie.a)),Be=Object(Ne.createStore)(Ce,Le);c.a.render(r.a.createElement(k.a,{store:Be},r.a.createElement(Me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,2,1]]]);
//# sourceMappingURL=main.142f6cf0.chunk.js.map